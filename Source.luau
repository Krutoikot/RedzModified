-- Official Redz Modified with Raid Timers

local Settings = _G.Settings or {
    JoinTeam = "Pirates"; -- Pirates/Marines
    Translator = true; -- true/false
}

-- –ê–≤—Ç–æ–≤—Å—Ç—É–ø –¥–æ –∫–æ–º–∞–Ω–¥–∏
local function AutoJoinTeam()
    if Settings.JoinTeam == "Pirates" or Settings.JoinTeam == "Marines" then
        repeat
            wait()
            if game.Players.LocalPlayer.Team == nil then
                local args = {
                    [1] = Settings.JoinTeam
                }
                game:GetService("ReplicatedStorage").Remotes.CommF_:InvokeServer("SetTeam", unpack(args))
            end
        until game.Players.LocalPlayer.Team ~= nil
    end
end

-- –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–∑–º—ñ–Ω–∏ –º–æ–≤–∏ —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å—É
local function AutoTranslate()
    if Settings.Translator then
        game:GetService("Players").LocalPlayer.PlayerGui.Main.Menu.Language.Visible = false
    end
end

-- –§—É–Ω–∫—Ü—ñ—è –¥–ª—è —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è GUI —Ç–∞–π–º–µ—Ä—ñ–≤
local function CreateRaidTimers()
    -- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è GUI
    local player = game.Players.LocalPlayer
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = player.PlayerGui

    -- –°—Ç–∏–ª—å –¥–ª—è —Ç–∞–π–º–µ—Ä—ñ–≤
    local timerStyle = {
        BackgroundColor3 = Color3.fromRGB(0, 0, 0),
        TextColor3 = Color3.fromRGB(255, 255, 255),
        Font = Enum.Font.GothamBold,
        TextSize = 20,
        TextStrokeTransparency = 0.8,
        TextStrokeColor3 = Color3.fromRGB(0, 0, 0),
    }

    -- –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –¥–ª—è —Ç–∞–π–º–µ—Ä—ñ–≤
    local pirateRaidTimer = Instance.new("TextLabel")
    pirateRaidTimer.Size = UDim2.new(0, 200, 0, 50)
    pirateRaidTimer.Position = UDim2.new(0.5, -100, 0, 20)  -- –¶–µ–Ω—Ç—Ä
    pirateRaidTimer.Text = "üõ° –ü—ñ—Ä–∞—Ç—Å—å–∫–∏–π —Ä–µ–π–¥ —á–µ—Ä–µ–∑: 00:00"
    pirateRaidTimer.Parent = screenGui
    for key, value in pairs(timerStyle) do
        pirateRaidTimer[key] = value
    end

    local factoryRaidTimer = Instance.new("TextLabel")
    factoryRaidTimer.Size = UDim2.new(0, 200, 0, 50)
    factoryRaidTimer.Position = UDim2.new(0.5, -100, 0, 70) -- –ü—ñ–¥ –ø–µ—Ä—à–∏–º —Ç–∞–π–º–µ—Ä–æ–º
    factoryRaidTimer.Text = "üè≠ –§–∞–±—Ä–∏–∫–∞ —á–µ—Ä–µ–∑: 00:00"
    factoryRaidTimer.Parent = screenGui
    for key, value in pairs(timerStyle) do
        factoryRaidTimer[key] = value
    end

    -- –§—É–Ω–∫—Ü—ñ—è –¥–ª—è –æ–±—á–∏—Å–ª–µ–Ω–Ω—è —á–∞—Å—É –¥–æ —Ä–µ–π–¥—É
    local function UpdateRaidTimers()
        while true do
            wait(1)  -- –û–Ω–æ–≤–ª—é–≤–∞—Ç–∏ –∫–æ–∂–Ω—É —Å–µ–∫—É–Ω–¥—É

            local ServerAge = math.floor(workspace.DistributedGameTime / 60) -- –í—ñ–∫ —Å–µ—Ä–≤–µ—Ä–∞ –≤ —Ö–≤–∏–ª–∏–Ω–∞—Ö

            local TimeUntilPirateRaid = 75 - (ServerAge % 75) -- –ü—ñ—Ä–∞—Ç—Å—å–∫–∏–π —Ä–µ–π–¥ –∫–æ–∂–Ω—ñ 75 —Ö–≤–∏–ª–∏–Ω
            local TimeUntilFactoryRaid = 90 - (ServerAge % 90) -- –§–∞–±—Ä–∏–∫–∞ –∫–æ–∂–Ω—ñ 90 —Ö–≤–∏–ª–∏–Ω

            -- –§–æ—Ä–º–∞—Ç—É–≤–∞–Ω–Ω—è —á–∞—Å—É –¥–æ —Ä–µ–π–¥—ñ–≤
            local minutesPirate = math.floor(TimeUntilPirateRaid)
            local secondsPirate = math.floor((TimeUntilPirateRaid - minutesPirate) * 60)

            local minutesFactory = math.floor(TimeUntilFactoryRaid)
            local secondsFactory = math.floor((TimeUntilFactoryRaid - minutesFactory) * 60)

            -- –û–Ω–æ–≤–ª–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É —Ç–∞–π–º–µ—Ä—ñ–≤
            pirateRaidTimer.Text = "üõ° –ü—ñ—Ä–∞—Ç—Å—å–∫–∏–π —Ä–µ–π–¥ —á–µ—Ä–µ–∑: " .. string.format("%02d:%02d", minutesPirate, secondsPirate)
            factoryRaidTimer.Text = "üè≠ –§–∞–±—Ä–∏–∫–∞ —á–µ—Ä–µ–∑: " .. string.format("%02d:%02d", minutesFactory, secondsFactory)

            -- –Ø–∫—â–æ –∑–∞–ª–∏—à–∏–ª–æ—Å—å –º–µ–Ω—à–µ 5 —Ö–≤–∏–ª–∏–Ω - –ø–æ–∫–∞–∑—É—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
            if TimeUntilPirateRaid <= 5 then
                pcall(function()
                    game.StarterGui:SetCore("SendNotification", {
                        Title = "‚öîÔ∏è –ü—ñ—Ä–∞—Ç—Å—å–∫–∏–π –†–µ–π–¥",
                        Text = "–ü–æ—á–Ω–µ—Ç—å—Å—è —á–µ—Ä–µ–∑ " .. TimeUntilPirateRaid .. " —Ö–≤–∏–ª–∏–Ω!",
                        Duration = 10
                    })
                end)
            end

            if TimeUntilFactoryRaid <= 5 then
                pcall(function()
                    game.StarterGui:SetCore("SendNotification", {
                        Title = "üè≠ –†–µ–π–¥ –§–∞–±—Ä–∏–∫–∏",
                        Text = "–§–∞–±—Ä–∏–∫–∞ –≤—ñ–¥–∫—Ä–∏—î—Ç—å—Å—è —á–µ—Ä–µ–∑ " .. TimeUntilFactoryRaid .. " —Ö–≤–∏–ª–∏–Ω!",
                        Duration = 10
                    })
                end)
            end
        end
    end

    -- –û–Ω–æ–≤–ª—é—î–º–æ —Ç–∞–π–º–µ—Ä–∏
    UpdateRaidTimers()
end

-- –û—Å–Ω–æ–≤–Ω–∏–π –∑–∞–ø—É—Å–∫
pcall(function()
    AutoJoinTeam()
    AutoTranslate()
    CreateRaidTimers()
end)

-- –í—ñ—Ç–∞–ª—å–Ω–µ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è
pcall(function()
    game.StarterGui:SetCore("SendNotification", {
        Title = "‚úÖ REDZ Loaded",
        Text = "–ú–æ–¥–∏—Ñ—ñ–∫–æ–≤–∞–Ω–∞ –≤–µ—Ä—Å—ñ—è –∞–∫—Ç–∏–≤–æ–≤–∞–Ω–∞!",
        Duration = 5
    })
end)
